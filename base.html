<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Smooth transition */
        .header-transition {
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    </style>
</head>

<body class="bg-gray-50">

<header id="mainHeader"
        class="fixed top-0 left-0 w-full z-50 header-transition bg-transparent">
    <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">

        <!-- Left: Logo + Title -->
        <div class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-green-700 rounded-full flex items-center justify-center">
                <span class="text-white text-xl font-bold">üè†</span>
            </div>
            <h1 class="text-xl font-semibold text-gray-900">
                ‡¶¶‡¶ø‡¶®‡¶¨‡¶¶‡¶≤‡ßá‡¶∞ ‡¶è‡¶ñ‡¶®‡¶á ‡¶∏‡¶Æ‡ßü
            </h1>
        </div>

        <nav class="flex space-x-8 text-gray-700 font-medium">
            <a href="{% url 'home' %}" class="hover:text-green-700">‡¶π‡ßã‡¶Æ</a>
            <a href="{% url 'reports' %}" class="hover:text-green-700">‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a>
            <a href="{% url 'safety' %}" class="hover:text-green-700">‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶∏‡¶π‡¶æ‡ßü‡¶§‡¶æ</a>
            <a href="{% url 'post' %}" class="hover:text-green-700">‡¶π‡¶æ‡¶∞‡¶æ‡¶®‡ßã-‡¶™‡¶æ‡¶ì‡ßü‡¶æ</a>
            <a href="{% url 'volunteer' %}" class="hover:text-green-700">‡¶∏‡ßç‡¶¨‡ßá‡¶ö‡ßç‡¶õ‡¶æ‡¶∏‡ßá‡¶¨‡¶ï</a>
            {% if request.user.is_authenticated %}
                <a href="{% url 'dashboard' %}"  >
                    <img src="{% static 'image/profile.png' %}" alt="User" class="mr-16 h-[28px] rounded-full cursor-pointer bg-transparent border-0" />
                </a>
            {% else %}
                
                <a href="javascript:void(0);" onclick="openLoginModal()" 
                    class="text-black no-underline text-[16px]  hover:text-teal-600">
                    ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                </a>
                    
                <!-- Login Modal -->
                <div id="loginModal" 
                    class="hidden fixed inset-0 w-full h-full bg-black/60 flex justify-center items-center z-[9999]">
                    
                    <div class="w-[350px] bg-white p-7 rounded-xl shadow-2xl relative mt-4 flex flex-col gap-3">
                        
                        <h2 class="text-center mb-1 text-[26px] font-bold">Welcome Back</h2>
                        <p class="text-center text-gray-600 mb-1">Sign in to your Account</p>

                        <form method="POST" action="{% url 'user_login' %}" class="flex flex-col gap-3">
                            {% csrf_token %}
                            
                            <input type="text" name="username" placeholder="Email" required
                                class="w-full p-3 border border-gray-400 rounded-md text-[15px] outline-none" />

                            <input type="password" name="password" placeholder="Password" required
                                class="w-full p-3 border border-gray-400 rounded-md text-[15px] outline-none" />

                            <div class="flex justify-between items-center my-2">
                                <label class="flex items-center text-[14px] cursor-pointer">
                                    <input type="checkbox" name="remember_me" class="mr-2 cursor-pointer" />
                                    Remember me
                                </label>
                                <a href="#" class="text-[#0D7C7C] text-[14px] no-underline">Forgot password?</a>
                            </div>

                            <button type="submit" 
                                    class="w-full p-3 bg-[#0D7C7C] text-white rounded-md text-[16px] font-semibold hover:bg-[#055B5B]">
                                Login
                            </button>
                        </form>

                        <!-- Divider -->
                        <div>
                            <div class="flex items-center justify-center my-4">
                                <hr class="flex-1 border-gray-300" />
                                <span class="mx-3 text-gray-500 text-[14px] font-medium">Or continue with</span>
                                <hr class="flex-1 border-gray-300" />
                            </div>

                            <div class="flex justify-center mb-2">
                                <a href="/accounts/google/login/"
                                class="flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-md text-[15px] 
                                        bg-white text-gray-700 shadow-sm cursor-pointer no-underline 
                                        hover:bg-gray-100 hover:shadow-md transition">
                                    <img src="{% static 'images/g.jpeg' %}" alt="Google" class="w-5 h-5">
                                    Continue with Google
                                </a>
                            </div>
                        </div>

                        <a href="#" class="text-center text-[15px] text-gray-800 no-underline mt-2">Sign Up</a>
                    </div>
                </div>


                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const modal = document.getElementById('loginModal');

                        // Click on backdrop to close
                        modal.addEventListener('click', function(e) {
                        if (e.target === modal) {
                            closeLoginModal();
                        }
                        });
                    });

                    function openLoginModal() {
                        const modal = document.getElementById("loginModal");
                        // Remove hidden and ensure display is cleared
                        modal.classList.remove("hidden");
                        modal.style.display = ""; // clear inline style if any
                    }

                    function closeLoginModal() {
                        const modal = document.getElementById("loginModal");
                        modal.classList.add("hidden");
                        modal.style.display = ""; // avoid leaving display:none inline
                    }

                    // Remember me
                    document.addEventListener('DOMContentLoaded', function() {
                        const checkbox = document.querySelector('input[name="remember_me"]');
                        if (!checkbox) return;

                        const rememberMe = localStorage.getItem('rememberMe');
                        if (rememberMe === 'true') {
                        checkbox.checked = true;
                        }
                        checkbox.addEventListener('change', function() {
                        localStorage.setItem('rememberMe', this.checked);
                        });
                    });
                </script>

            {% endif %}
        </nav>
    </div>
</header>


<!-- PAGE CONTENT -->
<div class="pt-20">
    {% block content %}
    {% endblock %}
</div>


<footer class="bg-green-800 text-white py-16 px-6">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12">

        <!-- Left Section -->
        <div>
            <h2 class="text-3xl font-bold mb-3">‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶™‡¶æ‡¶®</h2>
            <p class="text-gray-200 mb-6">
                ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®
            </p>

            <label class="text-gray-200 text-sm">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
            <input type="email"
                   class="w-full bg-transparent border-b border-gray-300 focus:outline-none py-2 text-white mb-4"
                   placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">

            <button class="mt-3 bg-white text-green-800 px-6 py-3 rounded-full font-semibold flex items-center space-x-2">
                <span>‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                <span>‚Üí</span>
            </button>

            <div class="mt-10 flex space-x-8 text-gray-200">
                <a href="#" class="hover:text-white">Facebook</a>
                <a href="#" class="hover:text-white">Twitter</a>
                <a href="#" class="hover:text-white">Instagram</a>
            </div>
        </div>

        <!-- Middle Section -->
        <div>
            <h3 class="text-xl font-semibold mb-4">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï</h3>
            <ul class="space-y-3 text-gray-200">
                <li><a href="#" class="hover:text-white">‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a></li>
                <li><a href="#" class="hover:text-white">‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶∏‡¶π‡¶æ‡ßü‡¶§‡¶æ</a></li>
                <li><a href="#" class="hover:text-white">‡¶∏‡ßç‡¶¨‡ßá‡¶ö‡ßç‡¶õ‡¶æ‡¶∏‡ßá‡¶¨‡¶ï ‡¶¶‡¶≤</a></li>
                <li><a href="#" class="hover:text-white">CCTV ‡¶Ü‡¶™‡¶°‡ßá‡¶ü</a></li>
            </ul>
        </div>

        <!-- Right Section -->
        <div>
            <h3 class="text-xl font-semibold mb-4">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</h3>

            <p class="mb-4">
                ‡¶´‡ßã‡¶®: +‡ßÆ‡ßÆ‡ß¶ ‡ßß‡ßß‡ß¶‡ß¶-‡ß¶‡ß¶‡ß¶‡ß¶‡ß¶
            </p>

            <p class="mb-4">
                ‡¶á‡¶Æ‡ßá‡¶á‡¶≤: info@dinbodol.com
            </p>

            <h4 class="font-semibold mb-2">‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</h4>
            <p class="text-gray-200">
                ‡¶ß‡¶æ‡¶®‡¶Æ‡¶®‡ßç‡¶°‡¶ø, ‡¶¢‡¶æ‡¶ï‡¶æ-‡ßß‡ß®‡ß¶‡ß´ <br>
                ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂
            </p>
        </div>
    </div>

    <!-- Bottom Line -->
    <div class="max-w-7xl mx-auto mt-12 pt-6 border-t border-gray-600 flex flex-col md:flex-row justify-between text-gray-300 text-sm">

        <p>¬© ‡ß®‡ß¶‡ß®‡ß´ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞‡¶¨‡ßá‡¶≤‡ßá‡¶∞ ‡¶è‡¶ñ‡¶®‡¶á ‡¶∏‡¶Æ‡ßü</p>

        <div class="flex space-x-6 mt-4 md:mt-0">
            <a href="#" class="hover:text-white">‡¶ó‡ßã‡¶™‡¶®‡ßÄ‡ßü‡¶§‡¶æ ‡¶®‡ßÄ‡¶§‡¶ø</a>
            <a href="#" class="hover:text-white">‡¶∂‡¶∞‡ßç‡¶§‡¶æ‡¶¨‡¶≤‡ßÄ</a>
            <a href="#" class="hover:text-white">Website Builder</a>
        </div>
    </div>
</footer>


<!-- Scroll Script -->
<script>
    const header = document.getElementById("mainHeader");

    window.addEventListener("scroll", () => {
        if (window.scrollY > 20) {
            header.classList.remove("bg-transparent");
            header.classList.add("bg-white", "shadow-md");
        } else {
            header.classList.remove("bg-white", "shadow-md");
            header.classList.add("bg-transparent");
        }
    });
</script>

</body>
</html>
